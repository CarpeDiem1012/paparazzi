<!DOCTYPE module SYSTEM "module.dtd">
<module name="sys_id_chirp_full_indi" dir="system_identification">
  <doc>
    <description>This module will add phi, theta and psi commands in terms of chrirps to the quat setpoint generated by stabilization_indi</description>
  </doc>
  <settings>
    <dl_settings name="System identification">
      <dl_settings name="System chirp">
        <dl_setting min="0" max="1"    step="1" values="Inactive|Active" shortname="Activate chirp" var="chirp_active" type="uint8_t" module="system_identification/sys_id_chirp_full_indi" handler="activate_handler">
          <strip_button name="Chirp start" value="1" group="System identification"/>
          <strip_button name="Chirp stop"  value="0" group="System identification"/>
        </dl_setting>
        <dl_setting min="0"    max="5"    step="1"    shortname="Chirp axis"     var="chirp_axis"                    type="uint8_t" module="system_identification/sys_id_chirp_full_indi" handler="axis_handler"/>
        <dl_setting min="0"    max="30" step="1"  shortname="Amplitude"      var="chirp_amplitude"               type="float" module="system_identification/sys_id_chirp_full_indi"/>
        <dl_setting min="0.05" max="20"    step="0.05" shortname="Fstart_hz"      var="chirp_fstart_hz"                   type="float"   module="system_identification/sys_id_chirp_full_indi" handler="fstart_handler"/>
        <dl_setting min="0.1"  max="20"   step="0.1"  shortname="Fend_hz"        var="chirp_fstop_hz"                   type="float"   module="system_identification/sys_id_chirp_full_indi" handler="fstop_handler"/>
        <dl_setting min="0"    max="100"  step="0.5"  shortname="Length_s"       var="chirp_length_s"                type="float"   module="system_identification/sys_id_chirp_full_indi"/>
      </dl_settings>
    </dl_settings>
  </settings>
  <header>
    <file name="sys_id_chirp_full_indi.h"/>
  </header>
  <init fun="sys_id_chirp_full_indi_init()"/>
  <periodic fun="sys_id_chirp_full_indi_run()" freq="60" autorun="TRUE"/>
  <makefile>
    <file name="pprz_chirp.c"/>
    <file name="sys_id_chirp_full_indi.c"/>
    <test/>
  </makefile>
</module>
