<!DOCTYPE module SYSTEM "module.dtd">

<module name="qpoas">
  <doc>
    <description>opti</description>
  </doc>
  <header>
    <file name="qpoas.h"/>
  </header>
  <init fun="qp_init()"/>
  <event fun="replan()"/>
  <makefile>
    <configure name="CXXSTANDARD" value="-std=c++14"/>
    <include name="$(PAPARAZZI_SRC)/sw/ext/eigen"/>
    <!-- <include name="$(PAPARAZZI_SRC)/sw/ext/qpOASES-3.2.1"/>
    <include name="$(PAPARAZZI_SRC)/sw/ext/qpOASES-3.2.1/INCLUDE"/>
    <include name="$(PAPARAZZI_SRC)/sw/ext/qpOASES-3.2.1/SRC"/> -->
    <flag name="LDFLAGS" value="lstdc++ -lm -lrt" />
    <flag name="CXXFLAGS" value="Wno-bool-compare"/>
    <flag name="CXXFLAGS" value="Wno-logical-not-parentheses"/>
    <flag name="CXXFLAGS" value="finline-functions"/>
    <define name="EIGEN_NO_MALLOC"/>
    <define name="EIGEN_NO_AUTOMATIC_RESIZING"/>
    <define name="EIGEN_NO_DEBUG"/>
    <file name="qpoas.cpp"/>
    <file name="qpoas.h"/>
  </makefile>
</module>